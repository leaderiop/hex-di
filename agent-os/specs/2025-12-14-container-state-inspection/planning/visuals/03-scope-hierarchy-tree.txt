================================================================================
SCOPE HIERARCHY TREE - DETAILED WIREFRAME
================================================================================
File: 03-scope-hierarchy-tree.txt
Version: 1.0
Date: 2025-12-14

This wireframe details the scope hierarchy visualization showing parent-child
relationships between containers and scopes.

================================================================================
SCOPE HIERARCHY - COLLAPSED (Default)
================================================================================

+-----------------------------------------------------------------------+
|  SCOPE HIERARCHY                                       [1 root, 0 scopes]|
+-----------------------------------------------------------------------+
|                                                                        |
|  +--------------------------------------------------------------------+|
|  |  [C] Root Container                                        Active  ||
|  |      Singletons: 3/5 resolved   |   Created: 2.3s ago              ||
|  +--------------------------------------------------------------------+|
|                                                                        |
+-----------------------------------------------------------------------+

================================================================================
SCOPE HIERARCHY - WITH ACTIVE SCOPES
================================================================================

+-----------------------------------------------------------------------+
|  SCOPE HIERARCHY                                      [1 root, 3 scopes]|
+-----------------------------------------------------------------------+
|                                                                        |
|  +--------------------------------------------------------------------+|
|  | [-] [C] Root Container                                     Active  ||
|  |         Singletons: 3/5   |   Children: 2   |   Age: 5.2s          ||
|  +--------------------------------------------------------------------+|
|  |                                                                    ||
|  |     +--------------------------------------------------------------+|
|  |     | [-] [S] Scope #1 (request-abc123)                    Active  ||
|  |     |         Scoped: 2/4   |   Children: 1   |   Age: 1.8s        ||
|  |     +--------------------------------------------------------------+|
|  |     |                                                              ||
|  |     |     +--------------------------------------------------------+|
|  |     |     | [S] Scope #3 (nested-xyz789)                   Active  ||
|  |     |     |     Scoped: 1/4   |   Age: 0.3s                        ||
|  |     |     +--------------------------------------------------------+|
|  |     |                                                              ||
|  |     +--------------------------------------------------------------+|
|  |                                                                    ||
|  |     +--------------------------------------------------------------+|
|  |     | [S] Scope #2 (request-def456)                        Active  ||
|  |     |     Scoped: 3/4   |   Age: 0.9s                              ||
|  |     +--------------------------------------------------------------+|
|  |                                                                    ||
|  +--------------------------------------------------------------------+|
|                                                                        |
+-----------------------------------------------------------------------+

LEGEND:
  [C]  = Container (root)
  [S]  = Scope (child)
  [-]  = Expanded (click to collapse)
  [+]  = Collapsed (click to expand)

================================================================================
SCOPE HIERARCHY - ROOT CONTAINER EXPANDED DETAIL
================================================================================

+-----------------------------------------------------------------------+
|  +--------------------------------------------------------------------+|
|  | v [C] Root Container                                       Active  ||
|  +--------------------------------------------------------------------+|
|  |                                                                    ||
|  |   CONTAINER INFO                                                   ||
|  |   ---------------------------------------------------------------- ||
|  |   Status:        Active                                            ||
|  |   Created:       12:34:51.234                                      ||
|  |   Uptime:        5m 23s                                            ||
|  |                                                                    ||
|  |   SINGLETON CACHE                                    [3/5 resolved]||
|  |   ---------------------------------------------------------------- ||
|  |   +--------------------------------------------------------------+ ||
|  |   | (*) Logger              Created: 12:34:51.456    #1          | ||
|  |   +--------------------------------------------------------------+ ||
|  |   | (*) DatabasePool        Created: 12:34:51.789    #2          | ||
|  |   +--------------------------------------------------------------+ ||
|  |   | (*) AuthService         Created: 12:34:52.012    #3          | ||
|  |   +--------------------------------------------------------------+ ||
|  |   | ( ) ConfigService       -- not resolved --                   | ||
|  |   +--------------------------------------------------------------+ ||
|  |   | ( ) MetricsCollector    -- not resolved --                   | ||
|  |   +--------------------------------------------------------------+ ||
|  |                                                                    ||
|  |   CHILD SCOPES                                              [2]    ||
|  |   ---------------------------------------------------------------- ||
|  |   +--------------------------------------------------------------+ ||
|  |   | > [S] Scope #1 (request-abc123)                       Active | ||
|  |   +--------------------------------------------------------------+ ||
|  |   | > [S] Scope #2 (request-def456)                       Active | ||
|  |   +--------------------------------------------------------------+ ||
|  |                                                                    ||
|  +--------------------------------------------------------------------+|
+-----------------------------------------------------------------------+

================================================================================
SCOPE HIERARCHY - CHILD SCOPE EXPANDED DETAIL
================================================================================

+-----------------------------------------------------------------------+
|      +----------------------------------------------------------------+|
|      | v [S] Scope #1 (request-abc123)                        Active  ||
|      +----------------------------------------------------------------+|
|      |                                                                ||
|      |   SCOPE INFO                                                   ||
|      |   ------------------------------------------------------------ ||
|      |   ID:            request-abc123                                ||
|      |   Status:        Active                                        ||
|      |   Parent:        Root Container                                ||
|      |   Created:       12:34:53.456                                  ||
|      |   Age:           1m 48s                                        ||
|      |   Depth:         1 (direct child of root)                      ||
|      |                                                                ||
|      |   SCOPED CACHE                                  [2/4 resolved] ||
|      |   ------------------------------------------------------------ ||
|      |   +----------------------------------------------------------+ ||
|      |   | (*) UserRepository      Created: 12:34:53.678    #1     | ||
|      |   +----------------------------------------------------------+ ||
|      |   | (*) RequestContext      Created: 12:34:53.890    #2     | ||
|      |   +----------------------------------------------------------+ ||
|      |   | ( ) TransactionManager  -- not resolved --              | ||
|      |   +----------------------------------------------------------+ ||
|      |   | ( ) AuditLogger         -- not resolved --              | ||
|      |   +----------------------------------------------------------+ ||
|      |                                                                ||
|      |   INHERITED SINGLETONS (from Root Container)                   ||
|      |   ------------------------------------------------------------ ||
|      |   +----------------------------------------------------------+ ||
|      |   | Logger, DatabasePool, AuthService                (3)    | ||
|      |   +----------------------------------------------------------+ ||
|      |                                                                ||
|      |   CHILD SCOPES                                          [1]   ||
|      |   ------------------------------------------------------------ ||
|      |   +----------------------------------------------------------+ ||
|      |   | > [S] Scope #3 (nested-xyz789)                   Active | ||
|      |   +----------------------------------------------------------+ ||
|      |                                                                ||
|      +----------------------------------------------------------------+|
+-----------------------------------------------------------------------+

================================================================================
SCOPE HIERARCHY - DISPOSED SCOPE
================================================================================

+-----------------------------------------------------------------------+
|      +----------------------------------------------------------------+|
|      | [S] Scope #4 (request-old999)                        Disposed  ||
|      |     Duration: 2.3s   |   Disposed: 3.1s ago                    ||
|      +----------------------------------------------------------------+|
+-----------------------------------------------------------------------+

Styling for disposed scopes:
  - Text color: var(--hex-devtools-text-muted) with 60% opacity
  - Status badge: Red/gray with "Disposed" label
  - Strikethrough on scope name (optional)
  - Collapsed by default, cannot expand

================================================================================
SCOPE TYPE INDICATORS
================================================================================

Container Icon [C]:
  +-------+
  |  [C]  |   Background: var(--hex-devtools-singleton) #a6e3a1
  +-------+   Border-radius: 4px
              Size: 20x20px

Scope Icon [S]:
  +-------+
  |  [S]  |   Background: var(--hex-devtools-scoped) #89b4fa
  +-------+   Border-radius: 4px
              Size: 20x20px

================================================================================
STATUS BADGES
================================================================================

Active:
  +----------+
  |  Active  |   Background: #a6e3a1 (green, 20% opacity)
  +----------+   Border: 1px solid #a6e3a1
                 Color: #a6e3a1

Disposed:
  +------------+
  |  Disposed  |   Background: #f38ba8 (red, 20% opacity)
  +------------+   Border: 1px solid #f38ba8
                   Color: #f38ba8

Disposing:
  +-------------+
  |  Disposing  |   Background: #fab387 (orange, 20% opacity)
  +-------------+   Border: 1px solid #fab387
                    Color: #fab387 (with pulse animation)

================================================================================
TREE CONNECTOR LINES
================================================================================

Tree structure visualization using box-drawing characters:

  Root Container
  |
  +-- Scope #1
  |   |
  |   +-- Scope #3 (nested)
  |
  +-- Scope #2

CSS implementation using ::before pseudo-elements:
  - Vertical lines: 1px solid var(--hex-devtools-border)
  - Horizontal connectors: 12px width
  - Indentation per level: 24px

================================================================================
INTERACTION PATTERNS
================================================================================

1. EXPAND/COLLAPSE
   - Click on row header to toggle expanded state
   - Keyboard: Enter or Space when focused
   - Chevron rotates 90deg on expand

2. SCOPE SELECTION
   - Click on scope to select and show details in Resolved Services
   - Selected scope highlighted with accent border
   - Resolved Services updates to show that scope's instances

3. CONTEXT MENU (Right-click)
   +------------------------+
   |  View Details          |
   |  Copy Scope ID         |
   |  --------------------- |
   |  Dispose Scope         |  (only for active scopes)
   +------------------------+

4. REFRESH
   - Manual refresh button in section header
   - Auto-refresh option (toggle)
   - Last updated timestamp shown

================================================================================
EMPTY STATES
================================================================================

No Scopes Created:
+-----------------------------------------------------------------------+
|  SCOPE HIERARCHY                                       [1 root, 0 scopes]|
+-----------------------------------------------------------------------+
|                                                                        |
|  +--------------------------------------------------------------------+|
|  | [C] Root Container                                         Active  ||
|  |     Singletons: 0/5 resolved   |   No child scopes                 ||
|  +--------------------------------------------------------------------+|
|                                                                        |
|  +--------------------------------------------------------------------+|
|  |  No scopes have been created yet.                                  ||
|  |  Call container.createScope() to create a scope.                   ||
|  +--------------------------------------------------------------------+|
|                                                                        |
+-----------------------------------------------------------------------+

================================================================================
